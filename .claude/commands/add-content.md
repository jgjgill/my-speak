영어 학습 콘텐츠를 자동으로 생성합니다.

이 명령어를 실행하면 랜덤한 주제로 완전한 4단계 영어 학습 콘텐츠가 자동 생성됩니다.

## 작업 프로세스

1. **랜덤 주제 선택**: 회화에 핵심적인 영어 표현이 포함된 실용적 상황 중 자동 선택
2. **메타데이터 설정**: 카테고리, 난이도를 랜덤으로 설정  
3. **파일명 생성**: 주제에 맞는 영어 slug 형식 파일명 생성
4. **콘텐츠 생성**: @docs/content/content-creation-flow.md 기반으로 완전한 4단계 학습 콘텐츠 작성
5. **파일 저장**: @content/source/ 디렉토리에 마크다운 파일로 저장
6. **파싱 실행**: content-parser로 마크다운을 JSON으로 변환 및 Supabase 업로드
7. **커밋 생성**: 생성된 콘텐츠와 JSON 파일을 포함한 일관된 커밋 메시지 작성

## 주제 풀

회화 단계에서 핵심 표현들이 구성된 실용적 영어 상황들을 포괄적으로 포함합니다.


## 생성되는 콘텐츠 구조

```markdown
---
topic_id: "[UUID 형식]"
title: "[자동 생성된 주제명]"
category: "[랜덤 카테고리]"
difficulty: "[랜덤 난이도]" 
description: "[주제에 맞는 설명]"
---

# 1단계: 한글 스크립트
[10-15문장의 자연스러운 한글 스크립트]
[**핵심표현**{영어번역} 형식의 학습 포인트 포함]

# 2단계: 영어 스크립트
[자연스러운 영어 번역]

# 2단계: 끊어읽기 버전
[| 기호가 포함된 끊어읽기 버전]

# 3단계: 사용자 자유 연습
1 ~ 2단계에서 구성한 콘텐츠 기반으로 한→영 스피킹 연습 진행

# 4단계: 키워드 스피치

## 레벨 1: 상세한 키워드 (70% 정보)
[키워드1, 키워드2, 키워드3 → 목표 문장]

## 레벨 2: 핵심 키워드 (50% 정보)
[키워드1, 키워드2 → 목표 문장]

## 레벨 3: 최소한의 키워드 (30% 정보)
[키워드1 → 목표 문장]

## 레벨 4: 영어 키워드
[영어 키워드 → 목표 문장]
```

## 생성 규칙

### 학습 포인트 표시
- 문장당 0-2개의 핵심 표현 선별 (없으면 생략 가능)
- `**한글표현**{영어표현}` 형식으로 마크업
- 영어 표현은 해당 문장의 영어 번역과 정확히 일치
- **반드시 회화에서 재사용 가능한 의미 있는 표현만 선별**

#### 학습 포인트 선별 기준
✅ **포함해야 할 표현들**:
- 관용어, 숙어, 패턴 표현
- 비즈니스/일상 회화의 핵심 구문
- 동사구, 전치사구 등 덩어리 표현
- 상황별 전문 용어

❌ **제외해야 할 표현들**:
- 고유명사, 브랜드명, 개인정보 (예: "ABC123456", "삼성", "김철수")
- 단순 명사나 숫자 (예: "노트북", "3개", "어제")
- 문맥에 의존적인 일회성 표현
- 너무 당연하거나 기본적인 단어 (예: "안녕하세요", "감사합니다")

### 끊어읽기 규칙  
- 의미 단위별로 `|` 기호 삽입
- 긴 문장의 경우 `||` 기호로 긴 호흡 표시
- 자연스러운 발음을 위한 적절한 pause 위치

### 키워드 스피치 생성
- **레벨 1**: 상세한 키워드 제공 (70% 정보)
- **레벨 2**: 핵심 키워드만 제공 (50% 정보)  
- **레벨 3**: 최소한의 키워드 (30% 정보)
- **레벨 4**: 영어 키워드로 즉흥 스피킹

## 품질 보장
- 각 단계별 문장 수 일치 확인
- 학습 포인트와 영어 스크립트 매칭 검증  
- 자연스러운 대화 흐름 유지
- 난이도에 맞는 어휘 선택
- @docs/content/content-creation-flow.md 표준 형식 준수
- 4단계 학습 시스템 완전 구현 (한글→영어→끊어읽기→자유연습→키워드스피치)

## 자동 파싱 및 업로드

콘텐츠 생성 완료 후 자동으로 다음 단계가 진행됩니다:

### Content Parser 실행
```bash
cd packages/content-parser
pnpm run parse [생성된파일명].md
```

### 처리 결과
- **JSON 생성**: `@content/json/[파일명].json` 파일 자동 생성
- **Supabase 업로드**: 6개 테이블에 데이터 자동 삽입
  - `topics`: 주제 메타데이터
  - `korean_scripts`: 한글 스크립트
  - `english_scripts`: 영어 스크립트 + 끊어읽기
  - `keyword_speeches`: 4단계 키워드 스피치 (레벨 1-4)
  - `learning_points`: 학습 포인트 매핑
  - `highlight_sentences`: 핵심 문장 (frontmatter에서 추출)

### 자동 커밋 메시지 형식
```
content: [생성된 문서 제목]
```

## 품질 검증

### 자동 검증 항목
- ✅ UUID 형식 유효성 검사
- ✅ 프론트매터 필수 필드 확인
- ✅ 한글/영어 스크립트 문장 수 일치
- ✅ 학습 포인트 영어 표현 매칭
- ✅ 키워드 스피치 4레벨 완성도
- ✅ highlight_sentence frontmatter 구조 검증

### 생성 완료 확인
- [ ] 마크다운 파일 생성 (`@content/source/`)
- [ ] JSON 파일 생성 (`@content/json/`)
- [ ] Supabase 데이터 업로드 확인
- [ ] Git 커밋 메시지 작성 완료

생성된 파일은 @content/source/ 디렉토리에 저장되고, 자동으로 파싱 및 데이터베이스 업로드가 완료됩니다.

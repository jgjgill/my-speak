# 외국어 학습 콘텐츠 자동 생성 프롬프트

이 프롬프트는 my-speak 프로젝트의 4단계 외국어 학습 콘텐츠를 자동으로 생성하는 데 사용됩니다.

## 생성 목표

랜덤한 주제로 완전한 4단계 외국어 학습 콘텐츠를 생성하여 마크다운 파일로 출력합니다.

## 입력 파라미터

- **UUID**: 시스템 명령어(`uuidgen`)로 사전 생성된 UUID v4 (예: `8c6b970f-5eb8-4536-9755-8414d427d761`)
- **언어 코드 (LANGUAGE)**: `en` (영어) (기본값) 또는 `ja` (일본어)
- **난이도 (DIFFICULTY)**: `초급` (기본값), `중급`, `고급`

## 콘텐츠 생성 프로세스

### 1. 랜덤 주제 선택

**🚨 최우선 원칙**: 매번 실행마다 **반드시 완전히 다른 주제**를 생성해야 합니다.

**절대 금지 주제 확인 (필수)**:
- 이 프롬프트의 **맨 아래 실행 파라미터 섹션**에 "🚫 절대 사용 금지 주제" 목록이 있습니다
- **주제를 선택하기 전에 반드시 해당 섹션으로 스크롤하여 확인**하세요
- 금지 목록에 있는 주제와 **완전히 다른** 주제를 선택해야 합니다
- 비슷한 주제, 유사한 상황, 관련된 시나리오도 **모두 피해야** 합니다

**주제 선택 원칙**:

1. **완전히 자유롭게 선택하세요**
   - 어떤 분야, 어떤 상황이든 제약 없이 선택 가능
   - 특정 카테고리나 영역에 국한되지 마세요
   - 실생활에서 외국어 회화가 필요한 모든 상황이 가능합니다

2. **매우 구체적인 상황을 만드세요**
   - 추상적이거나 일반적인 주제는 피하세요
   - 실제 대화가 발생하는 구체적 시나리오를 설정하세요
   - 외국어 학습에 유용한 핵심 표현이 자연스럽게 포함될 수 있는 상황

3. **예측 불가능하고 독창적이어야 합니다**
   - 흔히 생각할 수 있는 "뻔한" 주제를 의도적으로 피하세요
   - 이전에 누군가 만들었을 것 같은 주제를 피하세요
   - 창의적이고 독특한 상황 조합을 적극 시도하세요

4. **실용적이어야 합니다**
   - 실제 회화 상황에서 사용 가능한 주제
   - 학습자가 실생활에서 활용할 수 있는 내용

### 2. 메타데이터 생성
- **topic_id**: 입력 파라미터로 제공된 UUID 사용 (LLM이 직접 생성 금지)
- **title**: 한글로 작성된 주제명 (예: "커피숍에서 주문하기", "길 묻기")
- **slug**: title의 핵심 내용을 영어로 번역하여 kebab-case 형식으로 작성
  - **규칙**: 소문자, 하이픈으로 단어 구분, 영문자와 숫자만 사용
  - **예시**:
    - "커피숍에서 주문하기" → `coffee-shop-ordering`
    - "길 묻기" → `asking-for-directions`
    - "가까운 지하철역 길 묻기" → `asking-for-nearest-subway`
  - **중요**: 파일명으로 사용되므로 간결하고 명확하게 작성
- **category**: 랜덤 선택 (회화에 핵심적인 실용적 상황 우선)
- **difficulty**: 입력 파라미터로 설정 (기본값: 초급)
- **language_code**: 입력 파라미터로 설정 (기본값: en)
- **highlight_sentence**: 가장 핵심적인 문장 1개 선택
  - **sentence_order**: 1단계 스크립트에서 해당 문장의 순서 (1부터 시작)
  - **korean_text**: 핵심 문장의 **순수 한글 텍스트만** (중요: `**굵은글씨**`나 `{번역}` 마크업 절대 포함 금지)
  - **foreign_text**: 핵심 문장의 순수 외국어 텍스트만
  - **reason**: 이 문장이 핵심인 이유

### 3. 4단계 학습 콘텐츠 작성

#### 1단계: 한글 스크립트
- **분량**: 5-10문장 (학습 부담 최소화)
- **스타일**: 자연스러운 대화/상황 스크립트
- **학습 포인트 마크업**: `**한글표현**{외국어표현}` 형식
  - 문장당 0-2개 선별 (없으면 생략 가능)
  - **반드시 회화에서 재사용 가능한 의미 있는 표현만 선별**

#### 2단계: 외국어 스크립트
- 1단계의 자연스러운 번역
- 문장 수는 1단계와 정확히 일치
- 학습 포인트의 외국어 표현도 정확히 포함

#### 2단계: 끊어읽기 버전
- 의미 단위별로 `|` 기호 삽입
- 긴 문장의 경우 `||` 기호로 긴 호흡 표시
- 자연스러운 발음을 위한 적절한 pause 위치

#### 3단계: 사용자 자유 연습
- 고정 텍스트: "1 ~ 2단계에서 구성한 콘텐츠 기반으로 한→외국어 스피킹 연습 진행"

#### 4단계: 키워드 스피치 (4개 레벨)
- **레벨 1**: 상세한 키워드 (70% 정보)
- **레벨 2**: 핵심 키워드 (50% 정보)
- **레벨 3**: 최소한의 키워드 (30% 정보)
- **레벨 4**: 외국어 키워드

**키워드 스피치 생성 원칙**:
- **품질 우선**: 억지로 분량을 맞추지 말고 의미 있는 키워드만 선별
- **레벨별 차별화**: 각 레벨마다 명확한 학습 목적과 난이도 차이 구현
- **실용성 중심**: 실제 회화에서 활용 가능한 핵심 표현 위주
- **유연한 구성**: 레벨별 1-3개 항목으로 구성, 무리한 분량 채우기 금지

## 마크다운 출력 구조

```markdown
---
topic_id: "{{UUID}}"
title: "[자동 생성된 한글 주제명]"
slug: "[title의 영어 번역, kebab-case]"
category: "[랜덤 선택된 카테고리]"
difficulty: "{{DIFFICULTY}}"
description: "[주제에 맞는 설명]"
language_code: "{{LANGUAGE}}"
highlight_sentence:
  sentence_order: [핵심 문장 순서 번호 (1부터 시작)]
  korean_text: "[핵심 한글 문장 - 순수 텍스트, 강조 마크업 제외]"
  foreign_text: "[핵심 외국어 문장 - 순수 텍스트, 강조 마크업 제외]"
  reason: "[이 문장이 핵심인 이유]"
---

# 1단계: 한글 스크립트

[5-10문장의 자연스러운 한글 대화/상황 스크립트]
[**핵심표현**{외국어번역} 형식의 학습 포인트 포함]

# 2단계: 외국어 스크립트

[1단계의 자연스러운 외국어 번역]

# 2단계: 끊어읽기 버전

[| 기호가 포함된 끊어읽기 버전]

# 3단계: 사용자 자유 연습

1 ~ 2단계에서 구성한 콘텐츠 기반으로 한→외국어 스피킹 연습 진행

# 4단계: 키워드 스피치

## 레벨 1: 상세한 키워드 (70% 정보)

한글 키워드1, 키워드2 → 목표 외국어 문장

## 레벨 2: 핵심 키워드 (50% 정보)

한글 키워드1, 키워드2 → 목표 외국어 문장

## 레벨 3: 최소한의 키워드 (30% 정보)

한글 키워드 → 목표 외국어 문장

## 레벨 4: 외국어 키워드

외국어 키워드 → 목표 외국어 문장
```

## 세부 생성 규칙

### 학습 포인트 선별 기준

✅ **포함해야 할 표현들**:
- 관용어, 숙어, 패턴 표현
- 비즈니스/일상 회화의 핵심 구문
- 동사구, 전치사구 등 덩어리 표현
- 상황별 전문 용어

❌ **제외해야 할 표현들**:
- 고유명사, 브랜드명, 개인정보 (예: "ABC123456", "삼성", "김철수")
- 단순 명사나 숫자 (예: "노트북", "3개", "어제")
- 문맥에 의존적인 일회성 표현
- 너무 당연하거나 기본적인 단어 (예: "안녕하세요", "감사합니다")

### 난이도별 콘텐츠 특성

- **초급**: 기본 어휘, 단순 문장구조, 일상 상황 (5-10문장)
- **중급**: 비즈니스 어휘, 복합 문장구조, 업무 상황 (5-10문장)
- **고급**: 전문 어휘, 고급 문법, 추상적 주제 (5-10문장)

## 품질 보장 체크리스트

- ✅ **UUID 사용**: 입력 파라미터의 UUID를 topic_id에 정확히 사용
- ✅ **문장 수 적정성**: 5-10문장으로 학습 부담 최소화
- ✅ **학습 포인트 매칭**: 외국어 스크립트와 정확한 일치 검증
- ✅ **자연스러운 대화 흐름**: 실제 상황에서 사용 가능한 맥락
- ✅ **난이도별 어휘 선택**: 각 난이도에 적합한 표현 수준
- ✅ **키워드 스피치 품질**: 분량보다 학습 효과 우선
- ✅ **4단계 학습 시스템 완성**: 모든 단계가 완전하게 구성
- ✅ **highlight_sentence 구조**: frontmatter에 정확히 포함

## 출력 형식 요구사항

**중요**: 다음 규칙을 엄격히 준수하여 출력하세요.

1. **순수 마크다운만 출력**: 코드 블록(\`\`\`), 설명 텍스트, 파일명 제안 등 **일체 추가하지 말 것**
2. **첫 줄은 반드시 `---`**: 공백이나 다른 텍스트 없이 정확히 `---`로 시작
3. **frontmatter 정확성**: `---`로 시작/종료, 모든 필수 필드 포함
4. **섹션 완전성**: 4단계 모든 섹션이 누락 없이 포함
5. **추가 텍스트 금지**: "Suggested filename:", "Here is...", "다음과 같이..." 등의 설명 금지

### 올바른 출력 예시:
```
---
topic_id: "8c6b970f-5eb8-4536-9755-8414d427d761"
title: "커피숍에서 주문하기"
...
---

# 1단계: 한글 스크립트
...
```

### 잘못된 출력 예시 (❌):
```
Here is the content:
\`\`\`markdown
---
...
\`\`\`
Suggested filename: coffee-shop.md
```

## 사용 컨텍스트

생성된 콘텐츠는 `content/source/` 디렉토리에 저장되며, content-parser를 통해 JSON으로 변환되어 Supabase에 업로드됩니다.